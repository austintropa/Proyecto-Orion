/* =========================
   Tipografías
   ========================= */
@font-face {
    font-family: "WinzerSerifVar";
    src: url("/static/fonts/Variable/WinzerSerifVariable_PERSONAL_USE_ONLY.ttf") format("truetype");
    font-weight: 200 900;
    font-style: normal;
    font-display: swap;
}

@font-face {
    font-family: "Olympic";
    src: url("/static/fonts/Variable/Olympic.ttf") format("truetype");
    font-weight: normal;
}

/* Monospace estilo VS Code para campos/tablas */
:root {
    --code-font: ui-monospace, "Cascadia Code", "Fira Code", "JetBrains Mono",
        SFMono-Regular, Menlo, Monaco, Consolas,
        "Liberation Mono", "DejaVu Sans Mono", "Roboto Mono",
        "Courier New", monospace;
}

/* =========================
   Variables globales
   ========================= */
:root {
    --bg-950: #0c0d0f;
    --bg-900: #101216;
    --bg-800: #15181d;
    --glass: rgba(16, 18, 22, .52);
    --glass-strong: rgba(16, 18, 22, .62);
    --border: rgba(255, 255, 255, .08);
    --text-100: #f5f6f7;
    --text-300: #cdd2d9;
    --muted: #9aa2ae;

    --accent-500: #e63946;
    --accent-halo: rgba(230, 57, 70, .22);

    --radius: 16px;
    --radius-sm: 12px;
    --shadow-lg: 0 14px 40px rgba(0, 0, 0, .35);
    --shadow-md: 0 8px 22px rgba(0, 0, 0, .28);

    --logo-url: url("/static/images/logo.png");
    --logo-size: min(70vmin, 780px);
    --logo-opacity: 0;
    --logo-blur: 5.5px;

    --led-glow: 0 0 12px rgba(230, 57, 70, .25), 0 0 30px rgba(230, 57, 70, .16);
    --led-border: rgba(230, 57, 70, .32);
}

/* =========================
   Base y fondos
   ========================= */
* {
    box-sizing: border-box
}

html,
body {
    height: 100%
}

html {
    color-scheme: dark;
    scroll-behavior: smooth
}

body {
    margin: 0;
    color: var(--text-100);
    background: linear-gradient(180deg, var(--bg-950), var(--bg-900) 60%, var(--bg-950));
    line-height: 1.45;
    min-height: 100vh;
    overflow-x: hidden;
    position: relative;
}

/* Vignette */
body::before {
    content: "";
    position: fixed;
    inset: 0;
    z-index: -3;
    pointer-events: none;
    background:
        radial-gradient(1200px 800px at 110% -10%, rgba(255, 255, 255, .04), rgba(255, 255, 255, 0) 60%),
        radial-gradient(900px 700px at -15% 110%, rgba(255, 255, 255, .03), rgba(255, 255, 255, 0) 55%);
}

/* Logo (capa principal) */
body::after {
    content: "";
    position: fixed;
    inset: 0;
    z-index: -2;
    pointer-events: none;
    background-image: var(--logo-url);
    background-repeat: no-repeat;
    background-position: center center;
    background-size: var(--logo-size);
    opacity: var(--logo-opacity);
    filter:
        drop-shadow(0 0 14px rgba(230, 57, 70, .12)) drop-shadow(0 0 38px rgba(230, 57, 70, .10)) blur(var(--logo-blur)) saturate(1.03);
    transform: scale(.9);
    transition: opacity 1.25s ease .25s, transform 1.4s cubic-bezier(.2, .8, .2, 1) .25s, filter 1.2s ease .25s;
}

body.ready::after {
    opacity: .26;
    transform: scale(1);
    filter:
        drop-shadow(0 0 18px rgba(230, 57, 70, .16)) drop-shadow(0 0 48px rgba(230, 57, 70, .12)) blur(5px) saturate(1.04);
}

/* Iluminación extra sobre el logo */
#logofx {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: -1;
    background:
        radial-gradient(42vmin 42vmin at 50% 48%, rgba(230, 57, 70, .18), rgba(230, 57, 70, 0) 60%),
        conic-gradient(from 220deg at 50% 48%, rgba(230, 57, 70, .0) 0deg, rgba(230, 57, 70, .14) 20deg, rgba(230, 57, 70, .0) 55deg, rgba(230, 57, 70, .0) 360deg);
    mix-blend-mode: screen;
    opacity: 0;
    transform: translateZ(0) rotate(0deg) scale(1.02);
    transition: opacity 1.1s ease .35s, transform 2s ease .35s;
    animation: logoSweep 12s linear infinite paused;
}

body.ready #logofx {
    opacity: .28;
    animation-play-state: running
}

/* Barrido global (scan) para el body */
#scanfx {
    position: fixed;
    inset: 0;
    z-index: -1;
    pointer-events: none;
    background:
        linear-gradient(180deg, rgba(230, 57, 70, .18), rgba(230, 57, 70, 0) 42%),
        linear-gradient(180deg, rgba(255, 255, 255, .06), rgba(255, 255, 255, 0) 40%);
    transform: translateY(-120%);
    opacity: .85;
}

body.scan-start #scanfx {
    animation: sweepDown 1.85s cubic-bezier(.22, .8, .2, 1) .15s forwards;
}

/* =========================
   Loader y que el circulo guie al cursor
   ========================= */
#loader {
    position: fixed;
    inset: 0;
    display: grid;
    place-items: center;
    background: radial-gradient(60vmax 60vmax at 50% -10%, rgba(230, 57, 70, .12), transparent 60%), var(--bg-950);
    z-index: 9999;
    transition: opacity .6s ease, visibility .6s ease;
}

#loader.hide {
    opacity: 0;
    visibility: hidden
}

.loader-core {
    position: relative;
    width: 90px;
    height: 90px;
}

.loader-ring {
    position: absolute;
    inset: 0;
    border-radius: 999px;
    border: 2px solid rgba(255, 255, 255, .08);
    box-shadow: inset 0 0 0 1px rgba(0, 0, 0, .3);
    animation: ringSpin 2.2s linear infinite;
}

.loader-dot {
    position: absolute;
    top: 6px;
    left: 50%;
    width: 10px;
    height: 10px;
    margin-left: -5px;
    border-radius: 50%;
    background: var(--accent-500);
    box-shadow: var(--led-glow);
    animation: dotOrbit 2.2s linear infinite;
}

.loader-text {
    margin-top: 20px;
    color: var(--text-300);
    font-size: .95rem;
    letter-spacing: .4px;
    user-select: none;
    position: absolute;
    bottom: 12vh;
}

/* =========================
   Container (aparece 1s después del logo)
   ========================= */
.container {
    width: min(1920px, calc(100vw - clamp(16px, 3.6vw, 40px)*2));
    margin: clamp(16px, 3.6vw, 36px) auto;
    padding: clamp(16px, 2.4vw, 28px);
    border-radius: var(--radius);
    background: var(--glass);
    border: 1px solid var(--border);
    box-shadow: var(--shadow-lg);
    backdrop-filter: blur(10px) saturate(1.05);
    -webkit-backdrop-filter: blur(10px) saturate(1.05);
    position: relative;
    overflow: clip;

    /* estado inicial oculto hasta .content-ready */
    opacity: 0;
    transform: translateY(14px);
    transition: opacity .7s ease, transform .7s ease;
}

body.content-ready .container {
    opacity: 1;
    transform: translateY(0);
}

/* =========================
   Títulos y texto
   ========================= */
h1,
h2,
h3,
h4 {
    font-family: "WinzerSerifVar", Inter, system-ui, serif;
    letter-spacing: 3px;
    margin: 0 0 .6rem 0;
}

h1 {
    font-size: clamp(1.8rem, 3.2vw, 2.4rem);
    letter-spacing: 4px
}

h2 {
    font-size: clamp(1.1rem, 1.9vw, 1.35rem)
}

h3 {
    font-size: clamp(1rem, 1.5vw, 1.2rem)
}

h4 {
    font-size: .98rem;
    color: var(--text-300)
}

header {
    display: flex;
    flex-direction: column;
    gap: .35rem;
    margin-bottom: 1.1rem
}

.muted {
    color: var(--muted)
}

.small {
    font-size: .9rem
}

/* =========================
   Card y layout
   ========================= */
.card {
    background: var(--glass-strong);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    padding: clamp(14px, 2.1vw, 22px);
    box-shadow: var(--shadow-md);
}

.row {
    display: grid;
    grid-template-columns: 220px 1fr;
    gap: 12px 18px;
    align-items: center;
    margin-bottom: .9rem;
}

.row label {
    color: var(--text-300);
    font-size: .95rem
}

/* =========================
   Campos (inputs/textarea monospace)
   ========================= */
input,
textarea {
    width: 100%;
    color: var(--text-100);
    background: linear-gradient(180deg, var(--bg-800), #161921);
    border: 1px solid rgba(255, 255, 255, .07);
    border-radius: 12px;
    padding: .78rem .9rem;
    outline: none;
    transition: border-color .18s ease, box-shadow .18s ease, transform .06s ease;
    box-shadow: inset 0 0 0 1px rgba(0, 0, 0, .15);
    font-family: var(--code-font) !important;
    font-size: 0.95rem;
    font-variant-numeric: tabular-nums lining-nums;
    font-variant-ligatures: contextual common-ligatures;
    letter-spacing: 0;
}

input::placeholder,
textarea::placeholder {
    color: #7b808a;
    font-family: var(--code-font)
}

input:focus,
textarea:focus {
    border-color: var(--accent-500);
    box-shadow: 0 0 0 3px var(--accent-halo), var(--led-glow);
}

/* =========================
   Select (mantener diseño original; solo tipografía)
   ========================= */
select {
    width: 100%;
    color: var(--text-100);
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
    background:
        linear-gradient(45deg, transparent 50%, #949aa6 50%) calc(100% - 18px) 55%/6px 6px no-repeat,
        linear-gradient(135deg, #949aa6 50%, transparent 50%) calc(100% - 12px) 55%/6px 6px no-repeat,
        linear-gradient(180deg, #1b1e25, #15181d);
    padding: .78rem .9rem;
    padding-right: 44px;
    border: 1px solid rgba(255, 255, 255, .07);
    border-radius: 12px;
    box-shadow: inset 0 0 0 1px rgba(0, 0, 0, .15);
    outline: none;
    font-family: var(--code-font);
    font-size: .95rem;
}


select option,
select optgroup {
    background: #1b1e25;
    color: var(--text-100)
}

select:focus {
    border-color: var(--accent-500);
    box-shadow: 0 0 0 3px var(--accent-halo)
}

/* =========================
   Botones
   ========================= */
.actions {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-top: 10px
}

.actions button {
    color: var(--text-100);
    background: linear-gradient(180deg, #23262e, #1a1d24);
    border: 1px solid rgba(255, 255, 255, .08);
    padding: .72rem 1rem;
    border-radius: 12px;
    font-weight: 600;
    letter-spacing: .2px;
    cursor: pointer;
    box-shadow: 0 2px 8px rgba(0, 0, 0, .2);
    transition: transform .12s ease, box-shadow .18s ease, background .18s ease;
}

.actions button:hover {
    transform: translateY(-1px);
    box-shadow: 0 8px 22px rgba(0, 0, 0, .28), 0 0 0 3px var(--accent-halo) inset, var(--led-glow);
}

/* =========================
   Resultados (tabla monospace)
   ========================= */
.results_area {
    position: relative;
    border: 1px solid var(--border);
    border-radius: 12px;
    background: rgba(255, 255, 255, .03);
    padding: 12px 14px;
    box-shadow: inset 0 0 0 1px rgba(0, 0, 0, .12);
    overflow: auto;
    max-height: min(62vh, 760px);
}

.results-table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0;
    table-layout: fixed;
    word-wrap: break-word;
    white-space: normal;
    font-family: var(--code-font);
    font-size: .92rem;
    letter-spacing: 0;
}

.results-table thead th {
    position: sticky;
    top: 0;
    z-index: 2;
    text-align: left;
    background: linear-gradient(180deg, #21242b, #1b1e25);
    color: var(--text-100);
    padding: .8rem .9rem;
    border-bottom: 1px solid var(--border);
    font-family: var(--code-font);
}

.results-table tbody td {
    padding: .7rem .9rem;
    color: var(--text-300);
    border-bottom: 1px solid rgba(255, 255, 255, .06);
    background: linear-gradient(180deg, #15181e, #13161b);
    font-family: var(--code-font);
}

.results-table tbody tr:nth-child(odd) td {
    background: linear-gradient(180deg, #171a20, #15181e)
}

.results-table tbody tr:hover td {
    background: linear-gradient(180deg, #1a1e25, #171a20)
}

/* =========================
   Animaciones clave
   ========================= */
@keyframes sweepDown {
    0% {
        transform: translateY(-120%);
        opacity: .9
    }

    55% {
        transform: translateY(0%);
        opacity: .5
    }

    100% {
        transform: translateY(120%);
        opacity: 0
    }
}

@keyframes ringSpin {
    0% {
        transform: rotate(0deg)
    }

    100% {
        transform: rotate(360deg)
    }
}

@keyframes dotOrbit {
    0% {
        transform: rotate(0deg) translateY(-32px)
    }

    100% {
        transform: rotate(360deg) translateY(-32px)
    }
}

@keyframes logoSweep {
    0% {
        transform: rotate(0deg) scale(1.02)
    }

    50% {
        transform: rotate(180deg) scale(1.025)
    }

    100% {
        transform: rotate(360deg) scale(1.02)
    }
}

/* =========================
   Footer y accesibilidad
   ========================= */
footer {
    margin-top: 12px;
    padding-top: 6px;
    border-top: 1px dashed rgba(255, 255, 255, .08)
}

:focus-visible {
    outline: none
}

:is(input, textarea, button):focus-visible {
    outline: 2px solid var(--accent-500);
    outline-offset: 2px;
    border-radius: 10px
}

/* Reduce motion */
body.preload * {
    animation: none !important
}

@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.001ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.001ms !important
    }
}